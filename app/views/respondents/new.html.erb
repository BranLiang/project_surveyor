<div class="new-response">
  <div class="text-center">
    <h1><strong>Survey Taker:</strong></h1>

    <hr>
    <h3><strong><%= @survey.title %></strong></h3>
    <h4><%= @survey.description %></h4>
    <hr>

    <p>
      <span class="text-muted">Questions marked with an asterisk(*) are required</span>
    </p>
  </div>

  <main>
    <%= form_for @respondent do |f| %>
      <%= f.hidden_field :survey_id, value: @survey.id %>
      <div class="form-group text-center">
        <h3><strong>#TellMeYouName!</strong></h3>
        <%= f.text_field :name, class: "form-control input-lg text-center" %>
      </div>
      <ol>
        <!-- list all multi_questions for the survey -->
        <% if @survey.has_multi_questions? %>
          <% @survey.all_multi_questions_with_text.each do |multi_question| %>
            <div class="question-block">
              <li>
                <h4><strong><%= " * " if multi_question.required? %><%= multi_question.text.capitalize %></strong></h4>
                <!-- Multiple selection questions -->
                <% if multi_question.multi_select? %>
                  <%= f.fields_for :multi_responses do |multi_response| %>
                    <%= multi_response.hidden_field :question_id, value: multi_question.id %>
                    <%= multi_response.collection_check_boxes :answer, multi_question.response_options, :id, :text, {}, class: "checkbox" %>
                  <% end %>
                <!-- Single selection questions -->
                <% else %>
                  <%= f.fields_for :multi_responses do |multi_response| %>
                    <%= multi_response.hidden_field :question_id, value: multi_question.id %>
                    <%= multi_response.collection_radio_buttons :answer, multi_question.response_options, :id, :text, {}, class: "radio radio-inline" %>
                  <% end %>
                <% end %>
              </li>
            </div>
          <% end %>

          <div class="form-group">
            <hr>
            <%= f.submit "Submit your Survey", class: "btn btn-primary btn-lg btn-block" %>
          </div>
        <% end %> <!-- end of the multi_questions -->
      </ol>

    <% end %>
  </main>
</div>
